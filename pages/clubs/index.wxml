<view class="page">
  <!-- Top App Bar -->
  <view class="top-bar">
    <view class="spacer"></view>
    <text class="h3 font-bold text-dark">俱乐部</text>
    <view class="add-btn">
      <text class="add-icon">+</text>
    </view>
  </view>

  <!-- Hero -->
  <view class="hero-card card-elevated">
    <view class="hero-copy">
      <text class="hero-label pill">为你推荐</text>
      <text class="hero-title">和同好一起训练与比赛</text>
      <text class="hero-subtitle">发现附近的俱乐部，结识同城玩家</text>
    </view>
    <view class="hero-emoji">🤝</view>
  </view>

  <!-- Search Bar -->
  <view class="search-container">
    <view class="search-bar">
      <text class="search-icon">🔍</text>
      <input class="search-input" placeholder="搜索俱乐部名称、运动类型..." />
    </view>
  </view>

  <!-- Filter Chips -->
  <scroll-view scroll-x="true" class="filter-container">
    <view class="filter-chips">
      <view class="chip-filter">
        <text>运动类型</text>
        <text class="filter-arrow">▼</text>
      </view>
      <view class="chip-filter">
        <text>城市</text>
        <text class="filter-arrow">▼</text>
      </view>
      <view class="chip-filter">
        <text>成员规模</text>
        <text class="filter-arrow">▼</text>
      </view>
      <view class="chip-filter">
        <text class="filter-icon">⚙</text>
        <text>全部筛选</text>
      </view>
    </view>
  </scroll-view>

  <!-- Loading State -->
  <view wx:if="{{loading}}" class="loading-state">
    <view class="loading-indicator"></view>
    <text class="loading-text">加载中...</text>
  </view>

  <view wx:if="{{!loading}}">
    <!-- Clubs List -->
    <view class="clubs-list">
      <block wx:for="{{clubs}}" wx:key="id">
        <view class="club-card" bindtap="onClubTap" data-id="{{item.id}}">
          <view class="club-header">
            <image class="club-avatar" src="{{item.avatar}}" mode="aspectFill"></image>
            <view class="club-info flex-1">
              <text class="club-name">{{item.name}}</text>
              <text class="club-description">{{item.description}}</text>
            </view>
          </view>
          <view class="club-meta">
            <view class="meta-item pill">
              <text class="meta-icon">📍</text>
              <text class="meta-text">{{item.location}}</text>
            </view>
            <view class="meta-item pill">
              <text class="meta-icon">👥</text>
              <text class="meta-text">{{item.members}} 名成员</text>
            </view>
            <view class="meta-item pill">
              <text class="meta-icon">📅</text>
              <text class="meta-text">{{item.events}} 个活动</text>
            </view>
            <button class="btn-club-action {{item.joined ? 'btn-club-joined' : 'btn-club-join'}}" catchtap="onJoinClub" data-id="{{item.id}}">
              <text>{{item.joined ? '已加入' : '加入俱乐部'}}</text>
            </button>
          </view>
        </view>
      </block>
    </view>
  </view>

  <!-- Bottom Spacer -->
  <view style="height: 160rpx"></view>

  <custom-tab-bar></custom-tab-bar>
</view>
