<view class="page">
  <!-- Top Bar -->
  <view class="top-bar">
    <view class="back-btn">
      <text class="back-icon">←</text>
    </view>
    <text class="h4 font-bold text-dark">My Profile</text>
    <view class="settings-btn" bindtap="onSettings">
      <text class="settings-icon">⚙</text>
    </view>
  </view>

  <scroll-view scroll-y="true" class="profile-container">
    <!-- Profile Header -->
    <view class="profile-header">
      <view class="profile-info">
        <image class="profile-avatar" src="{{user.avatar}}" mode="aspectFill"></image>
        <view class="profile-details">
          <text class="profile-name">{{user.name}}</text>
          <text class="profile-bio">{{user.bio}}</text>
        </view>
      </view>
      <button class="btn-edit-profile" bindtap="onEditProfile">
        <text>Edit Profile</text>
      </button>
    </view>

    <!-- Profile Stats -->
    <view class="stats-container">
      <view class="stat-card">
        <text class="stat-number">{{user.stats.joinedActivities}}</text>
        <text class="stat-label">Joined Activities</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">{{user.stats.clubs}}</text>
        <text class="stat-label">Clubs</text>
      </view>
      <view class="stat-card">
        <text class="stat-number">{{user.stats.friends}}</text>
        <text class="stat-label">Friends</text>
      </view>
    </view>

    <!-- Favorite Sports -->
    <view class="section">
      <text class="section-title">Favorite Sports</text>
      <view class="sports-tags">
        <view wx:for="{{user.favoriteSports}}" wx:key="name" class="sport-tag">
          <text class="sport-icon">{{item.icon}}</text>
          <text class="sport-name">{{item.name}} · {{item.count}} times</text>
        </view>
      </view>
    </view>

    <!-- My Organized Events -->
    <view class="section">
      <view class="section-header">
        <text class="section-title">My Organized Events</text>
        <text class="view-all-link" bindtap="onViewAllEvents">View All</text>
      </view>
      <view class="event-list-profile">
        <block wx:for="{{user.organizedEvents}}" wx:key="id">
          <view class="event-item-profile" bindtap="onEventTap" data-id="{{item.id}}">
            <view class="event-icon-container">
              <text class="event-icon">{{item.icon}}</text>
            </view>
            <view class="event-info">
              <text class="event-title">{{item.title}}</text>
              <text class="event-date">{{item.date}} · {{item.time}}</text>
            </view>
            <text class="chevron">›</text>
          </view>
        </block>
      </view>
    </view>

    <!-- My Joined Clubs -->
    <view class="section">
      <view class="section-header">
        <text class="section-title">My Joined Clubs</text>
        <text class="view-all-link" bindtap="onViewAllClubs">View All</text>
      </view>
      <view class="club-list-profile">
        <block wx:for="{{user.joinedClubs}}" wx:key="id">
          <view class="club-item-profile" bindtap="onClubTap" data-id="{{item.id}}">
            <view class="club-icon-container">
              <text class="club-icon">{{item.icon}}</text>
            </view>
            <view class="club-info">
              <text class="club-name">{{item.name}}</text>
              <text class="club-members">{{item.members}} Members</text>
            </view>
            <text class="chevron">›</text>
          </view>
        </block>
      </view>
    </view>

    <!-- Bottom Spacer -->
    <view style="height: 160rpx"></view>
  </scroll-view>
</view>
